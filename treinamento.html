<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Treinamento: Pr√©-Judicializa√ß√£o (Sa√∫de)</title>
    <style>
        :root {
            --pipefy-blue: #0b66e4;
            --pipefy-dark: #172b4d;
            --pipefy-bg: #f4f5f7;
            --card-bg: #ffffff;
            --success: #36b37e;
            --warning: #ffab00;
            --danger: #ff5630;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--pipefy-bg);
            color: var(--pipefy-dark);
            margin: 0;
            padding: 0;
            line-height: 1.6;
        }

        /* Header */
        header {
            background-color: var(--pipefy-blue);
            color: white;
            padding: 20px 40px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        header h1 { margin: 0; font-size: 24px; }
        header p { margin: 5px 0 0; opacity: 0.9; font-size: 14px; }

        /* Container Principal */
        .container {
            max-width: 1200px;
            margin: 20px auto;
            padding: 0 20px;
            display: grid;
            grid-template-columns: 300px 1fr; /* Menu Lateral e Conte√∫do */
            gap: 20px;
        }

        /* Menu de Fases (Estilo Kanban Vertical) */
        .phase-nav {
            background: white;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            height: fit-content;
        }

        .phase-nav h3 {
            font-size: 12px;
            text-transform: uppercase;
            color: #6b778c;
            margin-bottom: 10px;
            border-bottom: 2px solid #ebecf0;
            padding-bottom: 5px;
        }

        .phase-btn {
            display: block;
            width: 100%;
            text-align: left;
            padding: 10px 15px;
            margin-bottom: 5px;
            background: #ebecf0;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.2s;
            color: var(--pipefy-dark);
            font-size: 13px;
            border-left: 4px solid transparent;
        }

        .phase-btn:hover { background: #dfe1e6; }
        .phase-btn.active {
            background: #deebff;
            color: var(--pipefy-blue);
            border-left: 4px solid var(--pipefy-blue);
        }

        /* √Årea de Conte√∫do */
        .content-area {
            background: white;
            border-radius: 8px;
            padding: 30px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            min-height: 500px;
        }

        .phase-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            border-bottom: 1px solid #ebecf0;
            padding-bottom: 15px;
        }

        .sla-badge {
            background: #fffae6;
            color: #172b4d;
            padding: 4px 8px;
            border-radius: 3px;
            font-size: 12px;
            font-weight: bold;
            border: 1px solid #ffe380;
        }

        .section-title {
            font-size: 14px;
            font-weight: bold;
            color: #5e6c84;
            text-transform: uppercase;
            margin-top: 25px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .task-list li { margin-bottom: 8px; }

        .automation-box {
            background: #e3fcef;
            border: 1px solid #abf5d1;
            padding: 15px;
            border-radius: 4px;
            font-size: 14px;
            color: #006644;
        }

        .warning-box {
            background: #fffae6;
            border: 1px solid #ffe380;
            padding: 15px;
            border-radius: 4px;
            font-size: 14px;
            color: #172b4d;
            margin-top: 15px;
        }

        /* Quiz/Simulador */
        .quiz-section {
            margin-top: 40px;
            border-top: 2px dashed #ebecf0;
            padding-top: 20px;
        }

        .scenario-card {
            background: #f4f5f7;
            padding: 15px;
            border-radius: 6px;
            margin-bottom: 15px;
        }

        .scenario-options button {
            margin-right: 10px;
            margin-top: 10px;
            padding: 8px 12px;
            border: 1px solid #ccc;
            background: white;
            border-radius: 4px;
            cursor: pointer;
        }

        .feedback {
            margin-top: 10px;
            font-weight: bold;
            padding: 10px;
            border-radius: 4px;
            display: none;
        }

        .feedback.correct { background: #e3fcef; color: #006644; }
        .feedback.wrong { background: #ffebe6; color: #bf2600; }

        /* Responsividade */
        @media (max-width: 768px) {
            .container { grid-template-columns: 1fr; }
            .phase-nav { display: flex; overflow-x: auto; gap: 10px; padding: 10px; }
            .phase-btn { min-width: 150px; margin-bottom: 0; }
        }
    </style>
</head>
<body>

<header>
    <h1>üéì Manual Interativo: Pr√©-Judicializa√ß√£o (Sa√∫de)</h1>
    <p>Fluxo de Trabalho ‚Ä¢ Regras de Neg√≥cio ‚Ä¢ Automa√ß√µes Pipefy</p>
</header>

<div class="container">
    <!-- Navega√ß√£o das Fases (Kanban simulado) -->
    <nav class="phase-nav">
        <h3>Fases do Processo</h3>
        <button class="phase-btn active" onclick="loadPhase('start')">üü¢ Start / Entrada</button>
        <button class="phase-btn" onclick="loadPhase('validacao')">üîç Valida√ß√£o de Dados</button>
        <button class="phase-btn" onclick="loadPhase('orcamento')">üí∞ Gera√ß√£o de Or√ßamento</button>
        <button class="phase-btn" onclick="loadPhase('pendencia_doc')">‚ö†Ô∏è Pend√™ncia Documental</button>
        <button class="phase-btn" onclick="loadPhase('contato')">üìû Contato com Cliente</button>
        <button class="phase-btn" onclick="loadPhase('assinatura')">‚úçÔ∏è Assinatura (Form)</button>
        <button class="phase-btn" onclick="loadPhase('validacao_ass')">‚öñÔ∏è Valida√ß√£o Assinatura</button>
        <button class="phase-btn" onclick="loadPhase('elaboracao')">üìù Elabora√ß√£o da Inicial</button>
        <button class="phase-btn" onclick="loadPhase('aprovacao')">‚úÖ Aprova√ß√£o da Inicial</button>
        <button class="phase-btn" onclick="loadPhase('distribuicao')">üèõÔ∏è Distribui√ß√£o</button>
    </nav>

    <!-- √Årea de Conte√∫do Din√¢mico -->
    <main class="content-area" id="main-content">
        <!-- O conte√∫do ser√° injetado aqui via JavaScript -->
    </main>
</div>

<script>
    // Banco de Dados do Conte√∫do (Baseado no Fluxograma e Imagens)
    const phasesData = {
        'start': {
            title: "Start / Entrada de Demandas",
            sla: "N/A",
            description: "Ponto de partida do fluxo. Geralmente alimentado via Formul√°rio P√∫blico ou integra√ß√£o.",
            tasks: [
                "Recebimento dos documentos iniciais do cliente.",
                "Cria√ß√£o autom√°tica do Card no Pipefy.",
                "Anexar documentos nos campos respectivos (RG, Laudo, Negativa)."
            ],
            automation: "ü§ñ <strong>Automa√ß√£o:</strong> Ao criar o card, o sistema notifica a equipe e move para 'Valida√ß√£o de Dados'.",
            tips: "Garanta que os arquivos est√£o leg√≠veis antes de prosseguir. Documentos ruins atrasam todo o processo."
        },
        'validacao': {
            title: "Valida√ß√£o de Dados e Documentos",
            sla: "üïí 2 dias",
            description: "Triagem inicial. O analista deve conferir se temos tudo para processar o caso.",
            tasks: [
                "Elaborar Procura√ß√£o, Contrato e Declara√ß√£o (sem assinatura).",
                "Conferir Checklist Autom√°tico de Documentos.",
                "Validar: Documento pessoal, carteirinha do plano, laudo m√©dico atualizado.",
                "<strong>Decis√£o:</strong> Se houver pend√™ncia -> Mover para 'Pend√™ncia Documental'. Se OK -> Seguir fluxo."
            ],
            automation: "‚ö†Ô∏è Se voc√™ marcar 'Possui Pend√™ncia? = Sim', o card deve ser movido para a fase de pend√™ncias para tratar com o cliente.",
            tips: "Verifique a data do Laudo M√©dico. Laudos muito antigos podem ser rejeitados pelo juiz na liminar."
        },
        'orcamento': {
            title: "Gera√ß√£o de Or√ßamento",
            sla: "üïí 1 dia",
            description: "Fase necess√°ria quando a demanda envolve custos pr√©vios n√£o cobertos ou reembolso espec√≠fico.",
            tasks: [
                "Verificar se o medicamento/procedimento requer cota√ß√£o.",
                "Solicitar or√ßamento se n√£o houver tabela pr√©-fixada.",
                "Anexar valores ao card."
            ],
            automation: "Se n√£o houver necessidade de or√ßamento (campo 'Medicamento?' = N√£o), o card pode pular esta etapa.",
            tips: "Aten√ß√£o: A√ß√µes de alto valor podem requerer aprova√ß√£o de s√≥cio antes de prosseguir."
        },
        'pendencia_doc': {
            title: "Pend√™ncia Documental (Status de Espera)",
            sla: "üõë Pausado (Cobran√ßa Ativa)",
            description: "Fase de 'estacionamento' enquanto aguardamos o cliente enviar o que falta.",
            tasks: [
                "Entrar em contato com cliente solicitando o documento faltante.",
                "Registrar tentativas de contato nos coment√°rios.",
                "Anexar o documento assim que recebido."
            ],
            automation: "ü§ñ <strong>Automa√ß√£o:</strong> O sistema pode enviar lembretes autom√°ticos por e-mail para o cliente cobrando o documento.",
            tips: "N√£o deixe cards acumularem aqui. Se o cliente n√£o responder em 15 dias, avalie o encerramento por in√©rcia."
        },
        'contato': {
            title: "Contato com Cliente",
            sla: "üïí 2 dias",
            description: "Momento de acolhimento e explica√ß√£o do processo judicial.",
            tasks: [
                "Realizar 1¬∫ contato (fone/WhatsApp).",
                "Conhecer o paciente e a situa√ß√£o familiar (empalizar).",
                "Explicar como funcionar√° a a√ß√£o (liminar vs m√©rito).",
                "Confirmar dados de contato e endere√ßo."
            ],
            automation: "Ao finalizar o contato, preencha o resumo da conversa para liberar a fase de Assinatura.",
            tips: "Este √© o momento de alinhar expectativas. Deixe claro que a liminar n√£o √© garantida, mas faremos o melhor."
        },
        'assinatura': {
            title: "Assinatura de Procura√ß√£o e Contrato",
            sla: "üïí Vari√°vel (Depende do Cliente)",
            description: "Fase externa. O cliente recebe um link para assinar digitalmente ou enviar os pap√©is assinados.",
            tasks: [
                "O Pipefy envia um e-mail autom√°tico com o link do Formul√°rio P√∫blico para o cliente.",
                "O cliente preenche e anexa os documentos assinados.",
                "Aguardar retorno."
            ],
            automation: "ü§ñ <strong>Automa√ß√£o Cr√≠tica:</strong> Quando o cliente preenche o formul√°rio enviado por e-mail, o card move <strong>automaticamente</strong> para 'Valida√ß√£o Assinatura'.",
            tips: "Se o cliente demorar, reenvie o link do formul√°rio atrav√©s do bot√£o de email dentro do card."
        },
        'validacao_ass': {
            title: "Valida√ß√£o Assinatura e Pend√™ncias",
            sla: "üïí 1 dia (sem pend√™ncia)",
            description: "Confer√™ncia final antes de passar para a equipe jur√≠dica t√©cnica.",
            tasks: [
                "Baixar os anexos enviados pelo cliente.",
                "Conferir se a assinatura confere com o documento pessoal.",
                "Verificar se todas as p√°ginas est√£o leg√≠veis.",
                "<strong>Decis√£o:</strong> Se erro -> Voltar para 'Pend√™ncias'. Se OK -> Mover para 'Elabora√ß√£o'."
            ],
            automation: "Nenhuma automa√ß√£o move o card sozinha aqui. A valida√ß√£o √© 100% humana.",
            tips: "Cuidado com procura√ß√µes sem data ou sem local. Isso gera emenda √† inicial pelo juiz."
        },
        'elaboracao': {
            title: "Elabora√ß√£o da Pe√ßa Inicial",
            sla: "üïí 4 dias",
            description: "Fase t√©cnica jur√≠dica. Reda√ß√£o da peti√ß√£o.",
            tasks: [
                "Prepara√ß√£o dos Fatos e Endere√ßamento.",
                "Cap√≠tulos: Justi√ßa Gratuita, Prioridade, Doen√ßa, Tratamento, Negativa.",
                "Fundamenta√ß√£o Jur√≠dica (Lei 9656/98, Jurisprud√™ncia, CDC).",
                "Pedidos (Liminar + M√©rito)."
            ],
            automation: "Ao terminar, anexe a minuta (Word/PDF) no card e mova para 'Aprova√ß√£o'.",
            tips: "Utilize os modelos padr√£o do escrit√≥rio, mas personalize a narrativa f√°tica. Juiz n√£o gosta de 'copia e cola' gen√©rico."
        },
        'aprovacao': {
            title: "Aprova√ß√£o da Pe√ßa Inicial",
            sla: "üïí 1 dia",
            description: "Controle de qualidade realizado por advogado s√™nior/coordenador.",
            tasks: [
                "Revisar tese jur√≠dica e pedidos.",
                "Conferir qualifica√ß√£o das partes.",
                "<strong>A√ß√£o:</strong> Aprovar (Mover para Distribui√ß√£o) ou Reprovar (Mover para Corre√ß√£o)."
            ],
            automation: "ü§ñ <strong>Bot:</strong> Se movido para 'Corre√ß√£o', o advogado redator √© notificado. Se aprovado, segue para protocolo.",
            tips: "Erros comuns: Valor da causa errado e esquecer pedido de tutela de urg√™ncia."
        },
        'distribuicao': {
            title: "Distribui√ß√£o (Protocolo)",
            sla: "üïí 1 dia",
            description: "Ajuizamento da a√ß√£o no sistema do Tribunal (PJe/E-saj).",
            tasks: [
                "Acessar sistema do Tribunal competente.",
                "Cadastrar partes, assunto e classe judicial.",
                "Protocolar a inicial e documentos.",
                "<strong>No Pipefy:</strong> Informar N√∫mero do Processo, Vara e Link do Tribunal."
            ],
            automation: "O preenchimento do campo 'N√∫mero do Processo' √© obrigat√≥rio para sair dessa fase.",
            tips: "Anexe o comprovante de distribui√ß√£o no card imediatamente."
        }
    };

    // Fun√ß√£o para carregar o conte√∫do da fase
    function loadPhase(phaseKey) {
        const data = phasesData[phaseKey];
        const container = document.getElementById('main-content');

        // Atualiza bot√µes
        document.querySelectorAll('.phase-btn').forEach(btn => btn.classList.remove('active'));
        event.target.classList.add('active');

        // HTML do Conte√∫do
        container.innerHTML = `
            <div class="phase-header">
                <h2>${data.title}</h2>
                <span class="sla-badge">${data.sla}</span>
            </div>

            <p>${data.description}</p>

            <div class="section-title">üë§ Atividades (O que fazer?)</div>
            <ul class="task-list">
                ${data.tasks.map(task => `<li>${task}</li>`).join('')}
            </ul>

            <div class="section-title">‚öôÔ∏è Regras do Sistema</div>
            <div class="automation-box">${data.automation}</div>

            <div class="warning-box">
                <strong>üí° Dica de Ouro:</strong> ${data.tips}
            </div>

            <!-- Quiz Simulado para esta fase (Gen√©rico) -->
            <div class="quiz-section">
                <h3>üß† Teste R√°pido: O que faria voc√™?</h3>
                <div class="scenario-card">
                    <p><strong>Cen√°rio:</strong> Voc√™ est√° nesta fase e percebe que falta um documento essencial que impede o progresso.</p>
                    <div class="scenario-options">
                        <button onclick="checkAnswer(this, 'correct')">Mover para 'Pend√™ncias' e avisar cliente</button>
                        <button onclick="checkAnswer(this, 'wrong')">Seguir fluxo e torcer para o juiz n√£o ver</button>
                        <button onclick="checkAnswer(this, 'wrong')">Deixar o card parado aqui at√© o cliente mandar</button>
                    </div>
                    <div class="feedback"></div>
                </div>
            </div>
        `;
    }

    // L√≥gica do Quiz
    window.checkAnswer = function(btn, type) {
        const feedbackDiv = btn.parentElement.nextElementSibling;
        if (type === 'correct') {
            feedbackDiv.textContent = "‚úÖ Correto! Nunca avance um card com pend√™ncias impeditivas. Isso trava a automa√ß√£o e gera retrabalho.";
            feedbackDiv.className = "feedback correct";
            feedbackDiv.style.display = "block";
        } else {
            feedbackDiv.textContent = "‚ùå Errado. Isso viola o SLA ou coloca o processo em risco. Mova para a fase de pend√™ncia correta.";
            feedbackDiv.className = "feedback wrong";
            feedbackDiv.style.display = "block";
        }
    }

    // Carregar a primeira fase ao abrir
    document.addEventListener("DOMContentLoaded", () => {
        // Simula clique no primeiro bot√£o para carregar
        document.querySelector('.phase-btn').click();
    });
</script>

</body>
</html>